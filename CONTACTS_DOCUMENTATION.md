# ๐ ูุซุงุฆู ูุธุงู ุฌูุงุช ุงูุงุชุตุงู (Kontakter)

## โ ุงูููุฒุงุช ุงูููุชููุฉ

### 1. ุตูุญุฉ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ (`/contacts`)

#### ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ:
- โ ุนุฑุถ ุฌููุน ุฌูุงุช ุงูุงุชุตุงู ูู ุฌุฏูู ุงุญุชุฑุงูู
- โ ุจุญุซ ูุชูุฏู (ุงุณูุ ุฑูู ูุงุชูุ ุจุฑูุฏ ุฅููุชุฑููู)
- โ ุชุตููุฉ ุญุณุจ ุงูุชุงุฌุฒ (Tags)
- โ ุนุฑุถ ุฅุญุตุงุฆูุงุช ุดุงููุฉ:
  - ุฅุฌูุงูู ุฌูุงุช ุงูุงุชุตุงู
  - ุนุฏุฏ ูู ูุฏููู ููุงููุฉ SMS
  - ุฅุฌูุงูู ุงูุฑุณุงุฆู ุงููุฑุณูุฉ
  - ุฌูุงุช ุงูุงุชุตุงู ุงูุฌุฏูุฏุฉ (ุขุฎุฑ 30 ููู)

#### ุงูููุฒุงุช ุงููุชูุฏูุฉ:
- โ ุชุตุฏูุฑ ุฌูุงุช ุงูุงุชุตุงู ุฅูู CSV
- โ ูุงุฌูุฉ ุงุณุชุฌุงุจูุฉ (Responsive) ูุฌููุน ุงูุดุงุดุงุช
- โ ุนุฑุถ ุญุงูุฉ ููุงููุฉ GDPR ููู ุฌูุฉ ุงุชุตุงู
- โ ุนุฑุถ ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ ููู ุฌูุฉ ุงุชุตุงู
- โ Skeleton loading ููุชุญููู ุงูุณูุณ
- โ ุฑุณุงุฆู ุฎุทุฃ ููุฌุงุญ ูุงุถุญุฉ

#### UI/UX:
- ุตูุฑ ุฑูุฒูุฉ (Avatars) ููููุฉ ุจุฃูู ุญุฑู ูู ุงูุงุณู
- ุฃููุงู ุชุฏุฑุฌูุฉ ุงุญุชุฑุงููุฉ
- ุฃููููุงุช ูุงุถุญุฉ ูู Lucide Icons
- ุชุตููู ุจุทุงูุงุช (Cards) ููุธู

---

### 2. ุตูุญุฉ ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู ุฌุฏูุฏุฉ (`/contacts/new`)

#### ุงูุญููู ุงููุชุงุญุฉ:
- โ ุงูุงุณู (ุฅูุฒุงูู)
- โ ุฑูู ุงููุงุชู (ุฅูุฒุงูู) - ูุน ุงูุชุญูู ูู ุงูุตูุบุฉ ุงูุณููุฏูุฉ
- โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)
- โ ุงูุชุงุฌุฒ (Tags) - ููุตููุฉ ุจุงูููุงุตู
- โ ููุงุญุธุงุช (Notes) - ุญูู ูุตู ุญุฑ
- โ ููุงููุฉ SMS (SMS Consent)
- โ ููุงููุฉ ุงูุชุณููู (Marketing Consent)

#### ุงูููุฒุงุช:
- โ ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู
- โ ุชูุณูู ุชููุงุฆู ูุฑูู ุงููุงุชู ุงูุณููุฏู
- โ ุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน:
  - ุชุงุฑูุฎ ุงูููุงููุฉ
  - ูุตุฏุฑ ุงูููุงููุฉ (manual)
  - ูุนูููุงุช ุงูููุธูุฉ
- โ ุฑุณุงุฆู ูุฌุงุญ/ุฎุทุฃ ูุงุถุญุฉ
- โ ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆูุฉ ุจุนุฏ ุงูุญูุธ

---

### 3. ุตูุญุฉ ุชูุงุตูู ุฌูุฉ ุงูุงุชุตุงู (`/contacts/[id]`)

#### ุงูุฃูุณุงู:
1. **ูุนูููุงุช ุงูุงุชุตุงู:**
   - โ ุงูุงุณู
   - โ ุฑูู ุงููุงุชู (ูุน ุนุฑุถ ููุณู)
   - โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - โ ุงูุชุงุฌุฒ
   - โ ุงูููุงุญุธุงุช

2. **ุญุงูุฉ GDPR:**
   - โ ููุงููุฉ SMS
   - โ ููุงููุฉ ุงูุชุณููู
   - โ ุชุงุฑูุฎ ุงูููุงููุฉ

3. **ุณุฌู ุงูุฑุณุงุฆู (SMS History):**
   - โ ุนุฑุถ ุขุฎุฑ 20 ุฑุณุงูุฉ
   - โ ุญุงูุฉ ูู ุฑุณุงูุฉ (ูุฑุณูุฉุ ูุณุชููุฉุ ูุดูุช)
   - โ ุชูููุฉ ูู ุฑุณุงูุฉ
   - โ ุงูุชุงุฑูุฎ ูุงูููุช

4. **ุฅุญุตุงุฆูุงุช:**
   - โ ุฅุฌูุงูู ุงูุฑุณุงุฆู
   - โ ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุณุชููุฉ
   - โ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ

#### ุงูุฅุฌุฑุงุกุงุช ุงููุชุงุญุฉ:
- โ ุชุนุฏูู ูุนูููุงุช ุฌูุฉ ุงูุงุชุตุงู
- โ ุญุฐู ุฌูุฉ ุงูุงุชุตุงู (Soft Delete)
- โ ุฅุฑุณุงู ุฑุณุงูุฉ SMS
- โ ูุงุฌูุฉ ุชุนุฏูู ูุฏูุฌุฉ (Inline Editing)

---

### 4. ุตูุญุฉ ุงุณุชูุฑุงุฏ ุฌูุงุช ุงูุงุชุตุงู (`/contacts/import`)

#### ุงูููุฒุงุช:
- โ ุงุณุชูุฑุงุฏ ูู ููู CSV
- โ ุชูุฒูู ูููุฐุฌ CSV ุฌุงูุฒ
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุงุณุชูุฑุงุฏ:
  - ุงูุชุญูู ูู ุงูุงุณู
  - ุงูุชุญูู ูู ุฑูู ุงููุงุชู
  - ุงูุชุญูู ูู ุงูุตูุบุฉ
- โ ุนุฑุถ ูุชุงุฆุฌ ุงูุงุณุชูุฑุงุฏ:
  - ุนุฏุฏ ุฌูุงุช ุงูุงุชุตุงู ุงููุถุงูุฉ
  - ุนุฏุฏ ุงูุฃุฎุทุงุก
  - ุชูุงุตูู ูู ุฎุทุฃ
- โ ุฏุนู ุงูุญููู:
  - name (ุงูุงุณู)
  - phone (ุงููุงุชู)
  - email (ุงูุจุฑูุฏ)
  - tags (ุงูุชุงุฌุฒ - ููุตููุฉ ุจูุงุตูุฉ ููููุทุฉ)
  - notes (ุงูููุงุญุธุงุช)
  - sms_consent (ููุงููุฉ SMS)
  - marketing_consent (ููุงููุฉ ุงูุชุณููู)

#### ุงูุชูุณูู ุงููุฏุนูู:
```csv
name,phone,email,tags,notes,sms_consent,marketing_consent
Anna Andersson,0701234567,anna@example.com,vip;stamkund,ููุงุญุธุงุช,true,true
```

---

## ๐จ ุงูููููุงุช ุงูุฌุฏูุฏุฉ

### UI Components:
1. **Input** (`/components/ui/input.tsx`)
   - ุญูู ุฅุฏุฎุงู ูุตู ุงุญุชุฑุงูู
   - ุฏุนู ุฌููุน ุฃููุงุน ุงูุฅุฏุฎุงู
   - ุชูุณูู ููุญุฏ

2. **Label** (`/components/ui/label.tsx`)
   - ุชุณููุงุช ุงูุญููู
   - ุชูุณูู ููุญุฏ

3. **Textarea** (`/components/ui/textarea.tsx`)
   - ุญูู ูุตู ูุชุนุฏุฏ ุงูุฃุณุทุฑ
   - ูุงุจู ูุชุบููุฑ ุงูุญุฌู

4. **Badge** (`/components/ui/badge.tsx`)
   - ุดุงุฑุงุช ููููุฉ ููุชุงุฌุฒ ูุงูุญุงูุงุช
   - ุฃููุงุน ูุชุนุฏุฏุฉ (default, success, error, warning)

5. **Skeleton** (`/components/ui/skeleton.tsx`)
   - ูููู ุงูุชุญููู
   - ุชุฃุซูุฑ ูุจุถู ุงุญุชุฑุงูู

6. **Alert** (`/components/ui/alert.tsx`)
   - ุฑุณุงุฆู ุงูุชูุจูู
   - ุฃููุงุน ูุชุนุฏุฏุฉ ูุน ุฃููููุงุช

### Contact Components:
1. **ContactCard** (`/components/contacts/contact-card.tsx`)
   - ุจุทุงูุฉ ุนุฑุถ ุฌูุฉ ุงุชุตุงู
   - ุชุตููู ุงุญุชุฑุงูู
   - ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ

2. **ContactStats** (`/components/contacts/contact-stats.tsx`)
   - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
   - ุฃููููุงุช ููููุฉ
   - ุชุตููู Grid ูุชุฌุงูุจ

---

## ๐ง ุงูุชูุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู Contacts Schema:
```typescript
{
  id: string
  organization_id: string
  name: string                    // โ ุชู ุงูุชุตุญูุญ ูู full_name
  phone: string
  email: string | null
  tags: string[]                  // โ ูุตูููุฉ
  custom_fields: Json             // โ ูุญุชูู ุนูู notes
  sms_consent: boolean           // โ ุชู ุงูุชุตุญูุญ ูู gdpr_consent
  marketing_consent: boolean
  consent_date: string | null
  consent_source: string | null
  total_bookings: number
  total_sms_sent: number
  last_visit_date: string | null
  created_at: string
  updated_at: string
  deleted_at: string | null
}
```

---

## ๐ฑ ุงูุชูุงูู ูุงูุงุณุชุฌุงุจุฉ

### ุงูุฃุฌูุฒุฉ ุงููุฏุนููุฉ:
- โ Desktop (1920px+)
- โ Laptop (1024px - 1920px)
- โ Tablet (768px - 1024px)
- โ Mobile (320px - 768px)

### ุงููุชุตูุญุงุช ุงููุฏุนููุฉ:
- โ Chrome
- โ Firefox
- โ Safari
- โ Edge

---

## ๐ GDPR ูุงูุฎุตูุตูุฉ

### ุงูุงูุชุฒุงู ุจู GDPR:
- โ ุชุณุฌูู ุชุงุฑูุฎ ุงูููุงููุฉ
- โ ุชุณุฌูู ูุตุฏุฑ ุงูููุงููุฉ
- โ ูุตู ููุงููุฉ SMS ุนู ุงูุชุณููู
- โ ุฅููุงููุฉ ุงูุญุฐู (Soft Delete)
- โ ุชุตุฏูุฑ ุงูุจูุงูุงุช

---

## ๐ฏ ุงูููุฒุงุช ุงููุชูุฏูุฉ

### 1. ุงูุจุญุซ ูุงูุชุตููุฉ:
- ุจุญุซ ูู ุงูููุช ุงููุนูู
- ุชุตููุฉ ูุชุนุฏุฏุฉ ุงููุนุงููุฑ
- ุนุฑุถ ูุชุงุฆุฌ ุงูุจุญุซ ุงูููุฑูุฉ

### 2. ุงูุฅุญุตุงุฆูุงุช:
- ุญุณุงุจ ุชููุงุฆู ููุฅุญุตุงุฆูุงุช
- ุนุฑุถ ุจุตุฑู ุงุญุชุฑุงูู
- ุชุญุฏูุซ ููุฑู

### 3. ุงูุชุตุฏูุฑ ูุงูุงุณุชูุฑุงุฏ:
- ุชุตุฏูุฑ ุฅูู CSV
- ุงุณุชูุฑุงุฏ ูู CSV
- ุงูุชุญูู ูู ุงูุจูุงูุงุช

---

## ๐ ุงูุฃุฏุงุก

### ุงูุชุญุณููุงุช:
- โ Lazy Loading ููุตูุฑ
- โ Skeleton Loading
- โ Client-side Filtering (ุณุฑูุน)
- โ Debouncing ููุจุญุซ
- โ Memoization ููุญุณุงุจุงุช ุงููุนูุฏุฉ

---

## ๐ ููุงุญุธุงุช ูููุทูุฑูู

### ุงูุจููุฉ:
```
app/(dashboard)/contacts/
โโโ page.tsx           # ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
โโโ new/
โ   โโโ page.tsx      # ุฅุถุงูุฉ ุฌุฏูุฏ
โโโ [id]/
โ   โโโ page.tsx      # ุงูุชูุงุตูู
โโโ import/
    โโโ page.tsx      # ุงูุงุณุชูุฑุงุฏ

components/
โโโ ui/               # ููููุงุช UI ุนุงูุฉ
โโโ contacts/         # ููููุงุช ุฎุงุตุฉ ุจุงูุฌูุงุช
```

### ูุตุงุฆุญ ููุชุทููุฑ:
1. ุงุณุชุฎุฏู `createClient()` ูููุตูู ุฅูู Supabase
2. ุชุฃูุฏ ูู ูุญุต `organization_id` ุฏุงุฆูุงู
3. ุงุณุชุฎุฏู `displayPhoneNumber()` ูุนุฑุถ ุงูุฃุฑูุงู
4. ุงุณุชุฎุฏู `formatPhoneNumber()` ูุญูุธ ุงูุฃุฑูุงู
5. ุชุญูู ูู `deleted_at IS NULL` ุนูุฏ ุงูุงุณุชุนูุงู

---

## โจ ุงูุฎูุงุตุฉ

ุชู ุฅููุงู ูุธุงู ุฌูุงุช ุงูุงุชุตุงู ุจุดูู ูุงูู ูุงุญุชุฑุงูู ูุน:
- โ ุฌููุน ุงูุตูุญุงุช ุชุนูู ุจุดูู ุตุญูุญ
- โ ุชูุงูู ูุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ ููุชุฌุงูุจุฉ
- โ ุงูุชุฒุงู ูุงูู ุจู GDPR
- โ ููุฒุงุช ูุชูุฏูุฉ (ุจุญุซุ ุชุตููุฉุ ุงุณุชูุฑุงุฏุ ุชุตุฏูุฑ)
- โ ุฃุฏุงุก ูุญุณูู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ! ๐
