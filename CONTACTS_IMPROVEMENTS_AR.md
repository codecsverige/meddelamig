# ุชุญุณููุงุช ุตูุญุงุช ุฌูุงุช ุงูุงุชุตุงู (Kontakter)

## ุงูุชุงุฑูุฎ: 2025-11-05

## ุงูููุฎุต
ุชู ุฅููุงู ูุฅุตูุงุญ ุฌููุน ุตูุญุงุช ุฌูุงุช ุงูุงุชุตุงู (Kontakter) ูุฌุนููุง ุงุญุชุฑุงููุฉ ููุชุณูุฉ ูุน schema ูุงุนุฏุฉ ุงูุจูุงูุงุช.

---

## ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุตูุงุญ Schema ูุงูุญููู โ

ุชู ุชุตุญูุญ ุฌููุน ุงูุญููู ูุชุชุทุงุจู ูุน schema ูุงุนุฏุฉ ุงูุจูุงูุงุช:

**ูุจู:**
- `full_name` โ **ุจุนุฏ:** `name`
- `gdpr_consent` โ **ุจุนุฏ:** `sms_consent` ู `marketing_consent`
- `notes` (ุชู ุฅุฒุงูุชู ูู ุจุนุถ ุงูููุงุถุน)

**ุงูุญููู ุงูุตุญูุญุฉ ุงูุขู:**
```typescript
interface Contact {
  id: string;
  name: string | null;
  phone: string;  // ุฅูุฒุงูู
  email: string | null;
  tags: string[] | null;
  custom_fields: any;
  sms_consent: boolean;
  marketing_consent: boolean;
  consent_date: string | null;
  consent_source: string | null;
  total_bookings: number;
  total_sms_sent: number;
  last_visit_date: string | null;
  created_at: string;
  updated_at: string;
}
```

---

### 2. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (`/contacts/page.tsx`) โญ

#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
- โ **ุจุทุงูุงุช ุฅุญุตุงุฆูุงุช ุดุงููุฉ**
  - ุฅุฌูุงูู ุฌูุงุช ุงูุงุชุตุงู
  - ุนุฏุฏ ุฌูุงุช ุงูุงุชุตุงู ุจููุงููุฉ SMS
  - ุนุฏุฏ ุฌูุงุช ุงูุงุชุตุงู ุจููุงููุฉ ุงูุชุณููู
  - ุฅุฌูุงูู ุงูุฑุณุงุฆู ุงููุตูุฉ ุงููุฑุณูุฉ
  - ุฅุฌูุงูู ุงูุญุฌูุฒุงุช

- โ **ุฅุฌุฑุงุกุงุช ุฌูุงุนูุฉ (Bulk Actions)**
  - ุชุญุฏูุฏ ูุชุนุฏุฏ ูุฌูุงุช ุงูุงุชุตุงู
  - ุชุญุฏูุฏ/ุฅูุบุงุก ุชุญุฏูุฏ ุงููู
  - ุญุฐู ุฌูุงุนู ููุฌูุงุช ุงููุญุฏุฏุฉ
  - ุดุฑูุท ุฅุฌุฑุงุกุงุช ูุธูุฑ ุนูุฏ ุงูุชุญุฏูุฏ

- โ **ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณููุฉ**
  - ุชุตููู ุนุตุฑู ูุงุญุชุฑุงูู
  - ุฃููุงู ูุชุฏุฑุฌุฉ ูุตูุฑ ุงูููู ุงูุดุฎุตู
  - ุชุณููุท ุงูุถูุก ุนูู ุงูุตููู ุงููุญุฏุฏุฉ
  - ุงุณุชุฌุงุจุฉ ูุงููุฉ ููููุงุชู ุงููุญูููุฉ

- โ **ููุชุฑุฉ ูุจุญุซ ูุชูุฏู**
  - ุจุญุซ ุจุงูุงุณูุ ุงููุงุชูุ ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - ููุชุฑุฉ ุญุณุจ ุงููุณูู (Tags)
  - ุนุฑุถ ุนุฏุฏ ุงููุชุงุฆุฌ ุงููููุชุฑุฉ
  - ุฒุฑ ููุณุญ ุฌููุน ุงูููุงุชุฑ

---

### 3. ุตูุญุฉ ุชูุงุตูู ุฌูุฉ ุงูุงุชุตุงู (`/contacts/[id]/page.tsx`) โญ

#### ุงูุชุญุณููุงุช:
- โ **ุนุฑุถ ูุนูููุงุช GDPR ูููุตูุฉ**
  - SMS-pรฅminnelser (ููุงููุฉ ุงูุฑุณุงุฆู ุงููุตูุฉ)
  - Marknadsfรถring (ููุงููุฉ ุงูุชุณููู)
  - ุชุงุฑูุฎ ุงูููุงููุฉ

- โ **ุฅุญุตุงุฆูุงุช ูุญุณููุฉ**
  - ุฅุฌูุงูู ุงูุฑุณุงุฆู ุงููุตูุฉ ุงููุฑุณูุฉ (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
  - ุนุฏุฏ ุงูุฑุณุงุฆู ุงูููุณูููุฉ
  - **ุฌุฏูุฏ:** ุฅุฌูุงูู ุงูุญุฌูุฒุงุช
  - ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ

- โ **ุชุญุฑูุฑ ูุญุณูู**
  - ูููุฐุฌ ุชุญุฑูุฑ ุฃูุถู ูุน ูุตู ูุงุถุญ ููุฃูุณุงู
  - ููุงููุงุช GDPR ุจุตูุงุฏูู ุงุฎุชูุงุฑ ูููุตูุฉ
  - ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

---

### 4. ุตูุญุฉ ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู ุฌุฏูุฏุฉ (`/contacts/new/page.tsx`) โ

#### ุงูููุฒุงุช:
- โ ุงุณุชุฎุฏุงู ุงูุญููู ุงูุตุญูุญุฉ (`name`, `sms_consent`, `marketing_consent`)
- โ ุชูุณูู ุฑูู ุงููุงุชู ุงูุชููุงุฆู
- โ ูุงุฌูุฉ ูุธููุฉ ูููุธูุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

---

### 5. ุตูุญุฉ ุงุณุชูุฑุงุฏ ุฌูุงุช ุงูุงุชุตุงู (`/contacts/import/page.tsx`) โญ

#### ุงูุชุญุณููุงุช:
- โ **ูุงูุจ CSV ูุญุฏูุซ**
  - ุงุณุชุฎุฏุงู `name` ุจุฏูุงู ูู `full_name`
  - ุงุณุชุฎุฏุงู `sms_consent` ู `marketing_consent` ุจุฏูุงู ูู `gdpr_consent`
  - ุฅุฒุงูุฉ ุญูู `notes` (ุบูุฑ ููุฌูุฏ ูู schema)

- โ **ุงูุชุญูู ุงููุญุณูู**
  - ุงูุชุญูู ูู ุฑูู ุงููุงุชู (ุฅูุฒุงูู)
  - ุงูุงุณู ุฃุตุจุญ ุงุฎุชูุงุฑูุงู (ููู ููุตู ุจู)
  - ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ ููู ุตู

- โ **ูุชุงุฆุฌ ุงูุงุณุชูุฑุงุฏ**
  - ุนุฑุถ ุนุฏุฏ ุงูุนูููุงุช ุงููุงุฌุญุฉ ูุงููุงุดูุฉ
  - ูุงุฆูุฉ ุจุงูุฃุฎุทุงุก ูุน ุจูุงูุงุช ุงูุตู
  - ูุตุงุฆุญ ููุงุณุชูุฑุงุฏ ุงููุงุฌุญ

---

## ุงููููุงุช ุงูููุญุฏุซุฉ

1. โ `/app/(dashboard)/contacts/page.tsx` - **ูุญุฏูุซุฉ ุจุงููุงูู**
2. โ `/app/(dashboard)/contacts/[id]/page.tsx` - **ูุญุฏูุซุฉ ุจุงููุงูู**
3. โ `/app/(dashboard)/contacts/new/page.tsx` - **ุชู ุงูุชุญูู ูููุง (ูุงูุช ุตุญูุญุฉ)**
4. โ `/app/(dashboard)/contacts/import/page.tsx` - **ูุญุฏูุซุฉ**
5. โ `/app/api/contacts/export/route.ts` - **ุชู ุงูุชุญูู ูููุง (ูุงูุช ุตุญูุญุฉ)**

---

## ููุฒุงุช ุงุญุชุฑุงููุฉ ุชู ุฅุถุงูุชูุง

### ๐จ ุงูุชุตููู
- ุชุตููู ุญุฏูุซ ููุธูู
- ุจุทุงูุงุช ุฅุญุตุงุฆูุงุช ููููุฉ
- ุตูุฑ ููู ุดุฎุตู ุจุฃููุงู ูุชุฏุฑุฌุฉ
- ุงุณุชุฌุงุจุฉ ูุงููุฉ (Responsive)
- ุฑููุฒ ุชูุถูุญูุฉ (Lucide Icons)

### โก ุงููุธุงุฆู
- ุฅุฌุฑุงุกุงุช ุฌูุงุนูุฉ (Bulk Actions)
- ุจุญุซ ูููุชุฑุฉ ูุชูุฏูุฉ
- ุชุตุฏูุฑ CSV
- ุงุณุชูุฑุงุฏ CSV ูุน ุงูุชุญูู
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- ุชุญุฏูุซุงุช ููุฑูุฉ

### ๐ GDPR
- ูุตู ูุงุถุญ ุจูู ููุงููุงุช SMS ูุงูุชุณููู
- ุชุณุฌูู ุชุงุฑูุฎ ุงูููุงููุฉ
- ูุตุฏุฑ ุงูููุงููุฉ (manual, import, etc.)

### ๐ฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ุฑุณุงุฆู ูุฌุงุญ/ุฎุทุฃ ูุงุถุญุฉ (Toast notifications)
- ุฑุณุงุฆู ุชุฃููุฏ ููุนูููุงุช ุงูุญุณุงุณุฉ
- ุญุงูุงุช ุชุญููู ูุงุถุญุฉ
- ุฑุณุงุฆู ูุงุฑุบุฉ ูููุฏุฉ (Empty states)
- ุงูุชููู ุงูุณูุณ

---

## ุงูุชูุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุฌููุน ุงูุญููู ูุชูุงููุฉ 100% ูุน schema ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```sql
CREATE TABLE contacts (
  id UUID PRIMARY KEY,
  organization_id UUID NOT NULL,
  phone TEXT NOT NULL,              -- โ
  name TEXT,                         -- โ
  email TEXT,                        -- โ
  tags TEXT[] DEFAULT '{}',          -- โ
  custom_fields JSONB DEFAULT '{}', -- โ
  sms_consent BOOLEAN DEFAULT true,  -- โ
  marketing_consent BOOLEAN DEFAULT false, -- โ
  consent_date TIMESTAMP,            -- โ
  consent_source TEXT,               -- โ
  total_bookings INTEGER DEFAULT 0,  -- โ
  total_sms_sent INTEGER DEFAULT 0,  -- โ
  last_visit_date DATE,              -- โ
  created_at TIMESTAMP,              -- โ
  updated_at TIMESTAMP,              -- โ
  deleted_at TIMESTAMP,              -- โ
  UNIQUE(organization_id, phone)
);
```

---

## ุงูุงุฎุชุจุงุฑ

### โ ุงุฎุชุจุงุฑุงุช ุชู ุฅุฌุฑุงุคูุง:
1. โ ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก Linter
2. โ ุงูุชุญูู ูู ุชูุงูู ุงูุญููู ูุน Schema
3. โ ุงูุชุญูู ูู ุชูุงูู API ุงูุชุตุฏูุฑ
4. โ ุงูุชุญูู ูู ุชูุงูู ุตูุญุฉ ุงูุงุณุชูุฑุงุฏ

### ๐ ุงุฎุชุจุงุฑุงุช ููุตู ุจูุง:
1. ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู ุฌุฏูุฏุฉ
2. ุชุญุฑูุฑ ุฌูุฉ ุงุชุตุงู ููุฌูุฏุฉ
3. ุญุฐู ุฌูุฉ ุงุชุตุงู
4. ุงุณุชูุฑุงุฏ ููู CSV
5. ุชุตุฏูุฑ ุฌูุงุช ุงูุงุชุตุงู
6. ุงูุจุญุซ ูุงูููุชุฑุฉ
7. ุงูุฅุฌุฑุงุกุงุช ุงูุฌูุงุนูุฉ (Bulk delete)
8. ุนุฑุถ ุชูุงุตูู ุฌูุฉ ุงุชุตุงู
9. ุงูุชุญูู ูู ุงูุฅุญุตุงุฆูุงุช

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

### ุชุญุณููุงุช ูุณุชูุจููุฉ:
1. ๐ **Pagination** - ุฅุถุงูุฉ ุชุฑููู ุงูุตูุญุงุช ูุนุฏุฏ ูุจูุฑ ูู ุฌูุงุช ุงูุงุชุตุงู
2. ๐ **ุจุญุซ ูุชูุฏู** - ุจุญุซ ุจูุนุงููุฑ ูุชุนุฏุฏุฉ ูุชุฒุงููุฉ
3. ๐ **ุชูุงุฑูุฑ** - ุชูุงุฑูุฑ ุชูุตูููุฉ ุนู ุฌูุงุช ุงูุงุชุตุงู
4. ๐ท๏ธ **ุฅุฏุงุฑุฉ ุงููุณูู** - ุตูุญุฉ ูุฅุฏุงุฑุฉ ุงููุณูู
5. ๐ **ูุฒุงููุฉ** - ูุฒุงููุฉ ูุน ุฃูุธูุฉ ุฎุงุฑุฌูุฉ
6. ๐ฑ **PWA** - ุฏุนู ุงูุชุทุจูู ุงูุชุฏุฑูุฌู
7. ๐ **ุชุนุฏุฏ ุงููุบุงุช** - ุฏุนู ูุบุงุช ุฅุถุงููุฉ

---

## ุงูููุงุญุธุงุช

- ุฌููุน ุงูุตูุญุงุช ุชุณุชุฎุฏู ุงูุขู ุงูุญููู ุงูุตุญูุญุฉ ุงููุชูุงููุฉ ูุน schema ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชู ูุตู ููุงููุงุช GDPR ุจุดูู ูุงุถุญ (SMS ู Marketing)
- ุงููุงุฌูุฉ ุงุญุชุฑุงููุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
- ุงูููุฏ ูุธูู ูููุธู ููุงุจู ููุตูุงูุฉ
- ูุง ุชูุฌุฏ ุฃุฎุทุงุก Linter

---

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู console ุงููุชุตูุญ ููุฃุฎุทุงุก
2. ุชุญูู ูู logs ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุตุญุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
4. ุชุญูู ูู ุตูุงุญูุงุช Supabase RLS

---

**ุชู ุงูุฅููุงู ุจูุฌุงุญ! โ**

ุฌููุน ุตูุญุงุช ุฌูุงุช ุงูุงุชุตุงู (Kontakter) ุชุนูู ุงูุขู ุจุดูู ุงุญุชุฑุงูู ููุชุณู.
